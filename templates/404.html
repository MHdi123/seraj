{% extends "base.html" %}

{% block title %}صفحه یافت نشد - سِراج{% endblock %}

{% block head %}
<style>
    @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-10px) rotate(5deg); }
    }
    
    @keyframes searchPulse {
        0%, 100% { opacity: 0.7; transform: scale(1); }
        50% { opacity: 1; transform: scale(1.1); }
    }
    
    .animate-float {
        animation: float 3s ease-in-out infinite;
    }
    
    .search-icon {
        animation: searchPulse 2s ease-in-out infinite;
    }
    
    .quick-link-item {
        transition: all 0.2s ease;
    }
    
    .quick-link-item:hover {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
    }
    
    .quick-link-item:hover i,
    .quick-link-item:hover span {
        color: white;
    }
</style>
{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto text-center py-12">
    <!-- تصویر ۴۰۴ با انیمیشن -->
    <div class="relative mb-8">
        <div class="text-9xl font-bold text-gray-200 select-none">
            ۴۰۴
        </div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
            <div class="animate-float">
                <i class="fas fa-map-signs text-blue-600 text-7xl"></i>
            </div>
        </div>
    </div>
    
    <h1 class="text-3xl font-bold mb-3 text-gray-900">صفحه‌ای که دنبال آن هستید پیدا نشد!</h1>
    
    <!-- کارت جستجو -->
    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 mb-8">
        <div class="flex items-center justify-center mb-4">
            <div class="search-icon bg-blue-600 w-12 h-12 rounded-full flex items-center justify-center">
                <i class="fas fa-search text-white text-xl"></i>
            </div>
        </div>
        <p class="text-gray-700 mb-4">
            متأسفانه صفحه‌ای که به دنبال آن هستید وجود ندارد، منتقل شده یا آدرس آن تغییر کرده است.
        </p>
        
        <!-- فرم جستجو -->
        <div class="max-w-md mx-auto">
            <div class="relative">
                <input type="text" 
                       id="searchInput" 
                       placeholder="جستجوی رویدادها، مسابقات، کارگاه‌ها..." 
                       class="w-full px-5 py-3 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                       onkeyup="handleSearch(event)">
                <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
            </div>
            <p class="text-xs text-gray-500 mt-2">
                <i class="fas fa-lightbulb ml-1"></i>
                مثلاً: مسابقه قرآن، کارگاه تجوید، حلقه تلاوت
            </p>
        </div>
    </div>
    
    <!-- لینک‌های سریع -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
        <a href="{{ url_for('index') }}" class="quick-link-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition-all">
            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2">
                <i class="fas fa-home text-blue-600"></i>
            </div>
            <span class="text-sm font-medium">خانه</span>
        </a>
        
        <a href="{{ url_for('events_list') }}" class="quick-link-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition-all">
            <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2">
                <i class="fas fa-calendar-alt text-green-600"></i>
            </div>
            <span class="text-sm font-medium">رویدادها</span>
        </a>
        
        <a href="{{ url_for('ai_quran') }}" class="quick-link-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition-all">
            <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2">
                <i class="fas fa-robot text-purple-600"></i>
            </div>
            <span class="text-sm font-medium">هوش مصنوعی</span>
        </a>
        
        <a href="{{ url_for('contact') }}" class="quick-link-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition-all">
            <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-2">
                <i class="fas fa-headset text-yellow-600"></i>
            </div>
            <span class="text-sm font-medium">پشتیبانی</span>
        </a>
    </div>
    
    <!-- دکمه‌های اصلی -->
    <div class="flex flex-col sm:flex-row justify-center gap-4">
        <a href="{{ url_for('index') }}" class="btn btn-primary px-8 py-3">
            <i class="fas fa-home ml-2"></i>
            بازگشت به خانه
        </a>
        <a href="{{ url_for('events_list') }}" class="btn btn-secondary px-8 py-3">
            <i class="fas fa-calendar-alt ml-2"></i>
            رویدادهای فعال
        </a>
    </div>
    
    <!-- گزارش مشکل - اصلاح شده -->
    <div class="mt-8 text-sm text-gray-500">
        <span>آیا فکر می‌کنید این صفحه باید وجود داشته باشد؟</span>
        <a href="{{ url_for('contact') }}" class="text-blue-600 hover:text-blue-800 mr-2">
            <i class="fas fa-flag ml-1"></i>
            تماس با پشتیبانی
        </a>
    </div>
</div>

<script>
function handleSearch(event) {
    if (event.key === 'Enter') {
        const query = event.target.value.trim();
        if (query) {
            window.location.href = "{{ url_for('search') }}?q=" + encodeURIComponent(query);
        }
    }
}

// پیشنهادات هوشمند
const suggestions = [
    "مسابقه قرآن",
    "کارگاه تجوید",
    "حلقه تلاوت",
    "سخنرانی دینی",
    "محفل انس با قرآن"
];

let currentSuggestionIndex = 0;
const searchInput = document.getElementById('searchInput');

setInterval(() => {
    if (searchInput && !searchInput.matches(':focus')) {
        searchInput.placeholder = `جستجو... ${suggestions[currentSuggestionIndex]}`;
        currentSuggestionIndex = (currentSuggestionIndex + 1) % suggestions.length;
    }
}, 3000);
</script>
{% endblock %}